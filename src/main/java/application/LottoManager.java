package application;

import domain.Lotto;
import domain.MatchResult;
import domain.WinningLotto;
import view.LottoGuidePrinter;
import view.LottoScanner;

import java.util.List;

public class LottoManager {

    public static void run() {
        List<Lotto> autoGeneratedLotto = purchaseAutoGeneratedLotto();
        WinningLotto winningLotto = inputWinnningLotto();
        MatchResult matchResult = new LottoResultManager(winningLotto, autoGeneratedLotto).getResult();
        int quantity = autoGeneratedLotto.size();
        LottoGuidePrinter.printLottoResult(quantity * Lotto.PRICE, matchResult);
    }

    private static List<Lotto> purchaseAutoGeneratedLotto() {
        LottoPurchaser lottoPurchaser = new AutoGeneratedLottoPurchaser();
        List<Lotto> lottoList = lottoPurchaser.generateLotto();
        LottoGuidePrinter.printLottoList(lottoList);
        return lottoList;
    }

    private static WinningLotto inputWinnningLotto() {
        WinningLottoGenerator lottoGenerator = new WinningLottoGenerator();
        return (WinningLotto) lottoGenerator.getLotto();
    }
}
