package application;

import domain.Ball;
import domain.Lotto;
import domain.MatchScore;
import domain.WinningLotto;
import view.LottoGuidePrinter;
import view.LottoScanner;

import java.util.List;

public class LottoManager {

    public static void run() {
        int quantity = inputPurchaseQuantity();
        List<Lotto> autoGeneratedLotto = purchaseAutoGeneratedLotto(quantity);
        WinningLotto winningLotto = inputWinnningLotto();
        MatchScore matchScore = new LottoResultManager(winningLotto, autoGeneratedLotto).getScore();
        LottoGuidePrinter.printLottoResult(quantity * Lotto.PRICE, matchScore);
    }

    private static int inputPurchaseQuantity() {
        int purchaseQuantity = LottoScanner.getPurchaseQuantity();
        LottoGuidePrinter.alertPurchaseQuantity(purchaseQuantity);
        return purchaseQuantity;
    }

    private static List<Lotto> purchaseAutoGeneratedLotto(int quantity) {
        AutoGeneratedLottoPurchaser lottoPurchaser = new AutoGeneratedLottoPurchaser();
        List<Lotto> lottoList = lottoPurchaser.generateLotto(quantity);
        LottoGuidePrinter.printLottoList(lottoList);
        return lottoList;
    }

    private static WinningLotto inputWinnningLotto() {
        List<Ball> winningLottoNumbers = LottoScanner.getWinningLottoNumbers();
        return new WinningLotto(winningLottoNumbers);
    }
}
